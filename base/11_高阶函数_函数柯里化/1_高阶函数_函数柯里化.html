<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-9">
    <title>受控组件</title>
</head>

<body>
    <div id="test"></div>
    <script type="text/javascript" src="../js/react.development.js"></script>
    <script type="text/javascript" src="../js/react-dom.development.js"></script>
    <script type="text/javascript" src="../js/babel.min.js"></script>
    <script type="text/babel">
       class Demo extends React.Component{

            //初始化状态
            state = {
				username:'', //用户名
				password:'' //密码
			}

			//保存用户名到状态中
			saveFormat = (dataType)=>{
				return (event) => {
                    console.log(dataType,event.target.value)
                    this.setState({
                        [dataType]:event.target.value
                    })
                }
			}

			//表单提交的回调
			handleSubmit = (event)=>{
				event.preventDefault() //阻止表单提交
				const {username,password} = this.state
				alert(`你输入的用户名是：${username},你输入的密码是：${password}`)
			}

           render(){
               return(
                   <div>
                    <form onSubmit={this.handleSubmit}>
						用户名：<input onChange={this.saveFormat("username")} type="text" name="username"/>
						密码：<input onChange={this.saveFormat("password")} type="password" name="password"/>
						<button>登录</button>
                        </form>
                    </div>
               )
           }
       }
       ReactDOM.render(<Demo/>,document.getElementById("test"))
    </script>
</body>
</html>