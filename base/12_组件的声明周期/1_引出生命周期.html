<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-9">
    <title>Base</title>
</head>

<body>
    <div id="test"></div>
    <script type="text/javascript" src="../js/react.development.js"></script>
    <script type="text/javascript" src="../js/react-dom.development.js"></script>
    <script type="text/javascript" src="../js/babel.min.js"></script>
    <script type="text/babel">
       class Demo extends React.Component{
           state = {
            opacity:1
           }

           death = () => {
            ReactDOM.unmountComponentAtNode(document.getElementById("test"))
           }

            componentDidMount(){
                this.time = setInterval(() => {
                    let {opacity} = this.state
                    opacity -= 0.1
                    if(opacity <= 0){
                        opacity = 1
                    }
                    this.setState({
                        opacity
                    })
                },200)
            }

            componentWillUnmount(){
                clearInterval(this.time)
            }

           render(){
               return (
                   <div>
                        <h2 style={{opacity:this.state.opacity}}>我的宠物是头猪</h2>
                        <button onClick={this.death}>杀猪吃肉</button>
                    </div>
               )
           }
       }
       ReactDOM.render(<Demo/>,document.getElementById("test"))
    </script>
</body>
</html>